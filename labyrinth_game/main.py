#!/usr/bin/env python3
"""–û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∏–≥—Ä—ã –õ–∞–±–∏—Ä–∏–Ω—Ç —Å–æ–∫—Ä–æ–≤–∏—â."""

import player_actions
import utils


def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã –õ–∞–±–∏—Ä–∏–Ω—Ç —Å–æ–∫—Ä–æ–≤–∏—â."""
    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    print("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –õ–∞–±–∏—Ä–∏–Ω—Ç —Å–æ–∫—Ä–æ–≤–∏—â!")
    
    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
    game_state = {
        'player_inventory': [],  # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞
        'current_room': 'entrance',  # –¢–µ–∫—É—â–∞—è –∫–æ–º–Ω–∞—Ç–∞
        'game_over': False,  # –ó–Ω–∞—á–µ–Ω–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
        'steps_taken': 0  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
    }
    
    # –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–æ–º–Ω–∞—Ç—ã
    utils.describe_current_room(game_state)
    
    # –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
    print("\nüí° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:")
    print("  look - –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è")
    print("  inventory - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
    print("  quit - –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã")
    print("  help - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É")
    
    # –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
    while not game_state['game_over']:
        # –°—á–∏—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
        command = player_actions.get_input("\n–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: ")
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã quit –¥–ª—è –≤—ã—Ö–æ–¥–∞
        if command == 'quit':
            print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
            break
        
        # –í—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (–±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–∑–∂–µ)
        if command == 'inventory':
            player_actions.show_inventory(game_state)
        elif command == 'look':
            utils.describe_current_room(game_state)
        elif command == 'help':
            print("\nüí° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:")
            print("  look - –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è")
            print("  inventory - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å")
            print("  quit - –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã")
            print("  help - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É")
        else:
            print(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: '{command}'. –í–≤–µ–¥–∏—Ç–µ 'help' –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.")


if __name__ == "__main__":
    main()